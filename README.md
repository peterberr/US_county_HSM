# US_county_HSM

README last updated August 9 2021

A housing stock model for US counties

This repository contains data and scripts used to develop a housing stock projection model for US counties, with detail on housing stocks by type (single-family, multifamily, manfactured housing), cohort, and vacancy status. 
The results of this model include material outflows from residential demolition and material requirements for residential construction at a county level; GHG emissions from new construction; 
and evolution of per capita floor area consumption at county and national resolution.

The details and results of this model is published open-source in 'Buildings and Cities' (https:// doi.org/10.5334/bc.126). The accepted manuscript, supporting information, and poster presentation of the main results can be found in the 'Publication Files' folder.
A video presentation of the results can be found at https://youtu.be/EIb2h1OSUn8

Data inputs and outputs of interest: 


Instructions for running model:

1. First run AHS_HSM, housing_stock, and pop_housing scripts, in that order. These create the intermediate data inputs required for the stock model to run, and outputs of these scripts are stored in the Intermediate_results directory.

2. The hsm_cty script prepares the data frames for the housing stock model, and then runs the housing stock model over all stock scenarios for each U.S. county. This script takes a long time to run (1-2 days if run on a single machine).
This script stores outputs in a directory named 'HSM_results' (which first needs to be created). The results directory is not tracked by Git or included in pushes to the online git repository, because of the large file sizes.

3. The sm_results_vis produces visualizations of the Housing Stock Model for selected counties, and for the national aggregate level. Some summary results are saved in 'HSM_results',and visualizations are saved to a 'Figures' directory (not tracked).

4. The bs_combine script combines housing stock model ouptuts with samples of housing stock characteristics (based on housing stock model outputs and data of housing characteristisc from NREL's ResStock database) to calculate summary stock model outputs including Floor Area data.

5. The mgInt script calculates and summarize the archeptye specific material and GHG intensities (per m2 floor area). mgInt_apply then takes the outputs of this script and of bs_combine, and calculates material and GHG flows for each housing stock scenario.

6. The map_results script generates map visualizations of various model outputs.

Note: Several of the large data objects generated by different scripts and then called by other scripts are too large to store on github. If you want to re-create, adapt, or extend this model, and need some of these data objects, please contact peter.berrill@yale.edu
Please see the 'script_descriptions.docx' file for further details on the purpose, inputs, and outputs of each script.

Input data files of interest:

Housing Archetype/MatGHGInt.xlsx contains the GHG intensities for different materials gathered from different sources, and description of the assumed reduction in intensity between 2020 and 2060

Output/result data files of interest: (.RData files need to be opened in R)

Material_Intensities/Full_arch_intensities.csv (and .RData) gives material intensities (kg/m2) and GHG intensities (kg CO2e/m2) by material for 51 housing archetypes for 10 summary material categories and emissions from construction site energy/transport
County_projections.RData contains projections of total population, population by house type, and household size by house type, for all counties, 2020-2060
InitStock2020.RData contains a breakout of the housing stock in 2020 by type, age cohort, and occupied/vacant status, for each county

